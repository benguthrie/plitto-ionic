<ion-view title="Profile">
  <ion-nav-buttons side="left">
    <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
  </ion-nav-buttons>
  <ion-content class="has-header">
    <h1>{{profileData.userName}}</h1>
        
    <div class="button-bar">
      <a class="button active" ng-class="{'active': nav.view ==='user.ditto'}" ng-hide="profileData.userId == vars.user.userId" ng-click="nav.view = 'user.ditto'; getSome(profileData.userId,'ditto');">Ditto</a>
      <a class="button" ng-class="{'active': nav.view ==='user.feed'}" ng-click="nav.view = 'user.feed'; showFeed(profileData.userId,''); ">Feed</a>
      <a class="button" ng-class="{'active': nav.view ==='user.lists'}" ng-click="nav.view = 'user.lists'; showLists(profileData.userId); ">Lists</a>
      <a class="button" ng-class="{'active': nav.view ==='user.shared'}" ng-hide="profileData.userId == vars.user.userId" ng-click="nav.view = 'user.shared';getSome(profileData.userId,'shared');">Shared</a>
      <a class="button" ng-class="{'active': nav.view ==='user.milestones'}" ng-click="nav.view = 'user.milestones';">Milestones</a>
    </div>

<!-- Start the Feed-->
    <div class="list card" ng-repeat="user in $root.profileData.feed" ng-show="nav.view==='user.feed'">
      <user-list-thing store="profileData.feed" source="user" user-data="profileData.feed"></user-list-thing>   
    </div>
<!-- End the Feed -->
    
<!-- Start User Lists -->    
    
    <div ng-show="nav.view==='user.lists'">
    
      <p ng-show="!$root.profileData.lists.length">No lists yet. Add a list using the + button 
        <div class="button-bar" ng-show="!$root.profileData.lists.length"><a class="button" ng-click="loadLists();">Reload Lists</a></div>
      </p>

      <ion-list can-swipe="true">
        <ion-item class="item-icon-right" ng-repeat="list in $root.profileData.lists" href="#/app/lists/{{list.lid}}" ng-click="showList(list.lid, list.name, null);">
            <ion-option-button class="button-assertive"
              ng-click="deleteList(list)">Delete</ion-option-button>
          {{list.name}}
          <h3>ListID: {{list.lid}}</h3>
          <h6>Shared: {{list.shared}}</h6>
          <h6>Dittoable: {{list.dittoable}}</h6>
          <h6>Mine: {{list.mymembers}}</h6>
          <h6>Most Recent: {{list.mostrecent}}</h6>

          <i class="icon ion-chevron-right icon-accessory"></i>
        </ion-item>
      </ion-list>
    
    </div>
    
 <!-- End User Lists -->   
  
  <!-- Start Milestones -->
    
    <div ng-show="nav.view==='user.milestones'">Milestones</div>
<!-- End Milestones -->     
  
<!-- Start Ditto -->  
    <div class="list card" ng-repeat="user in $root.profileData.ditto" ng-show="nav.view==='user.ditto'">
      <user-list-thing store="profileData.ditto" source="user" user-data="profileData.ditto"></user-list-thing>  
    </div>
<!-- End Ditto Section --> 
  
<!-- Start Shared -->  
  <div class="list card" ng-repeat="user in $root.profileData.shared" ng-show="nav.view==='user.shared'">
    <user-list-thing store="profileData.shared" source="user" user-data="profileData.shared"></user-list-thing>

  </div>
<!-- End Shared Section --> 
  
  </ion-content>
</ion-view>
